



<!doctype html>
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width">
    <title>Private Testnet Howto</title>

    <!-- CSS -->
    <link href='https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css' rel='stylesheet'>
    <link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap-theme.min.css" rel="stylesheet">
    <link href='../_static/main.css' rel='stylesheet'>
    <link href='../_static/style.css' rel='stylesheet'>
    <link href='../_static/doxygen.css' rel='stylesheet'>
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="https://media.readthedocs.org/css/badge_only.css" type="text/css" />

    <!-- Sphinx search -->
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="https://media.readthedocs.org/javascript/jquery/jquery-2.0.3.min.js"></script>
    <script type="text/javascript" src="https://media.readthedocs.org/javascript/jquery/jquery-migrate-1.2.1.min.js"></script>
    <script type="text/javascript" src="https://media.readthedocs.org/javascript/underscore.js"></script>
    <script type="text/javascript" src="https://media.readthedocs.org/javascript/doctools.js"></script>
    <script type="text/javascript" src="https://media.readthedocs.org/javascript/readthedocs-doc-embed.js"></script>
    <script type="text/javascript" src="searchindex.js.html"></script>
    <!-- Transifex -->
    <script type="text/javascript">
      window.liveSettings = {
        api_key: "bbf87af0641e4bbf89c98088d48e0449",
      };
    </script>
    <script type="text/javascript" src="http://cdn.transifex.com/live.js"></script>

    <!-- title card -->
    <link  href='../_static/title-card.css' rel='stylesheet'>
    <script src='../_static/script.js'></script>
    
    <!-- Sphinx search -->
    <link rel="search" type="application/opensearchdescription+xml"
          title="Search within Graphene Technical Documentation  documentation"
          href="../_static/opensearch.xml.html"/>

    <!-- Meta -->
    <meta content="Graphene Documentation" property="og:site_name">
    <meta content="Graphene Documentation" property="og:title">
    <meta content="website" property="og:type">
    <meta content="Graphene Documentation" name="description">
    <meta content="Graphene Documentation" property="og:description">
    
    <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-68381245-1', 'auto');
  ga('send', 'pageview');

</script>

 
<!-- RTD Extra Head -->

<!-- 
Always link to the latest version, as canonical.
http://docs.readthedocs.org/en/latest/canonical.html
-->
<link rel="canonical" href="private-testnet.html" />

<link rel="stylesheet" href="https://media.readthedocs.org/css/readthedocs-doc-embed.css" type="text/css" />

<script type="text/javascript" src="../_static/readthedocs-data.js"></script>

<!-- Add page-specific data, which must exist in the page js, not global -->
<script type="text/javascript">
READTHEDOCS_DATA['page'] = 'testnet/private-testnet' 		
READTHEDOCS_DATA['source_suffix'] = '.rst'
</script>

<script type="text/javascript" src="../_static/readthedocs-dynamic-include.js"></script>

<!-- end RTD <extrahead> -->
</head>
 <body class='no-literate'>


 <div class='title-area title-card' style='background-image: url("https://bitshares.org/images/bg.jpg")'>
   <div class='in'>
     <div class='headline'>
       <h1>Private Testnet Howto</h1>
 
     </div>
   </div>
 </div>

 <div class='header'>
   <div class='left navlinks'>
    
        <div class="prev">
         <div class="title">previous</div>
         <span><a href="10-create-assets.html">Create MPAs/UIAs</a></span>
        </div>
        <div class="top">
         <div class="title">top</div>
         <span><a class="uplink" href="../index.html">Contents</a></span>
        </div>
        <div class="next">
         <div class="title">next</div>
         <span><a href="../meta/index.html">How to Contribute</a></span>
        </div>

   </div>
 </div>

 <div class='content-root'>
  <!-- menu bar -->
  <div class='menubar'>
   <div class='section'>
    <a href="../index.html"><img src="../_static/grphn-logo.svg" height="48" /></a>
    <a href="../bitshares/index.html"><img src="../_static/bitshares-logo.png" height="48" /></a>
    <a href="../muse/index.html"><img src="../_static/MUSE_logo_transp_v1.png" height="48" /></a>
   </div>
   <div class='menu section'>
    <div id="toc">
      <h3>Table Of Contents</h3>
      <ul>
<li class="toctree-l1"><a class="reference internal" href="../bitshares/index.html">BitShares 2.0</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../muse/index.html">MUSE</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../integration/index.html">Integration Guide</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../api/index.html">API Guide</a></li>
</ul>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../development/index.html">Development Guide</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Testnets</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="public-testnet-howto.html">Public Testnet Howto</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="private-testnet.html#">Private Testnet Howto</a><ul>
<li class="toctree-l3"><a class="reference internal" href="private-testnet.html#prerequisites">Prerequisites</a></li>
<li class="toctree-l3"><a class="reference internal" href="private-testnet.html#folder-structure">Folder structure</a></li>
<li class="toctree-l3"><a class="reference internal" href="private-testnet.html#the-genesis-file">The genesis file</a><ul>
<li class="toctree-l4"><a class="reference internal" href="private-testnet.html#default-genesis">Default genesis</a></li>
<li class="toctree-l4"><a class="reference internal" href="private-testnet.html#customization-of-the-genesis-file">Customization of the genesis file</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="private-testnet.html#get-the-blockchain-id">Get the blockchain id</a></li>
<li class="toctree-l3"><a class="reference internal" href="private-testnet.html#witness-configuration">Witness configuration</a></li>
<li class="toctree-l3"><a class="reference internal" href="private-testnet.html#start-block-production">Start block production</a></li>
<li class="toctree-l3"><a class="reference internal" href="private-testnet.html#cli-usage">CLI Usage</a><ul>
<li class="toctree-l4"><a class="reference internal" href="private-testnet.html#create-a-new-wallet">Create a new wallet</a></li>
<li class="toctree-l4"><a class="reference internal" href="private-testnet.html#gain-access-to-the-genesis-stake">Gain access to the genesis stake</a></li>
<li class="toctree-l4"><a class="reference internal" href="private-testnet.html#create-another-account">Create another account</a><ul>
<li class="toctree-l5"><a class="reference internal" href="private-testnet.html#transfer-funds-between-accounts">Transfer funds between accounts</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../meta/index.html">How to Contribute</a></li>
</ul>

    </div>
   </div>
   <div class="search section">
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
   </div>
   <div class='bottom section'>
    <p class="centered">
     This page is proudly presented by <br />
     <a href="http://chainsquad.com">ChainSquad GmbH</a>
    </p>
    <p class="centered">
     <a rel="license" href="http://creativecommons.org/licenses/by-sa/4.0/"><img alt="Creative Commons License" style="border-width:0" src="https://i.creativecommons.org/l/by-sa/4.0/80x15.png" /></a>
    </p>
   </div>
  </div>
  <div class='content'>
   
  <div class="section" id="private-testnet-howto">
<h1>Private Testnet Howto<a class="headerlink" href="private-testnet.html#private-testnet-howto" title="Permalink to this headline">¶</a></h1>
<p>Some developers may want to deploy their own graphene blockchain locally
for governance, and speed reasons. This page shows how this can be done.</p>
<div class="section" id="prerequisites">
<h2>Prerequisites<a class="headerlink" href="private-testnet.html#prerequisites" title="Permalink to this headline">¶</a></h2>
<p>We assume that you have both <code class="docutils literal"><span class="pre">witness_node</span></code> and <code class="docutils literal"><span class="pre">cli_wallet</span></code> already
compliled (or downloaded from <a class="reference external" href="https://github.com/bitshares/bitshares-2/releases/latest">the offical
respository</a>).</p>
</div>
<div class="section" id="folder-structure">
<h2>Folder structure<a class="headerlink" href="private-testnet.html#folder-structure" title="Permalink to this headline">¶</a></h2>
<p>Create a new folder (we will refer to it as <code class="docutils literal"><span class="pre">[Testnet-Home]</span></code>) in any
location you like and copy <code class="docutils literal"><span class="pre">witness_node</span></code> and <code class="docutils literal"><span class="pre">cli_wallet</span></code> there.
The <code class="docutils literal"><span class="pre">[Testnet-Home]</span></code> folder will contain all files and folders related
to the testnet.</p>
<p>Open a <em>Command Prompt</em> window and switch the current directory to
<code class="docutils literal"><span class="pre">[Testnet-Home]</span></code>.</p>
</div>
<div class="section" id="the-genesis-file">
<h2>The genesis file<a class="headerlink" href="private-testnet.html#the-genesis-file" title="Permalink to this headline">¶</a></h2>
<p>The genesis file defines the initial state of the network.</p>
<div class="section" id="default-genesis">
<h3>Default genesis<a class="headerlink" href="private-testnet.html#default-genesis" title="Permalink to this headline">¶</a></h3>
<p>The graphene code base has a default genesis block integrated that has
all witnesses, committee members and funds and a single account called
<code class="docutils literal"><span class="pre">nathan</span></code> available from a single private key:</p>
<blockquote>
<div>5KQwrPbwdL6PhXujxW37FSSQZ1JiwsST4cqQzDeyXtP79zkvFD3</div></blockquote>
<p>See below how to use this key, or go ahead to learn about how to define
your own genesis file</p>
</div>
<div class="section" id="customization-of-the-genesis-file">
<h3>Customization of the genesis file<a class="headerlink" href="private-testnet.html#customization-of-the-genesis-file" title="Permalink to this headline">¶</a></h3>
<p>We create a new genesis json file named <code class="docutils literal"><span class="pre">my-genesis.json</span></code> by running
this command:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span>$ witness_node --create-genesis-json=my-genesis.json
</pre></div>
</div>
<p>The <code class="docutils literal"><span class="pre">my-genesis.json</span></code> file will be created in the <code class="docutils literal"><span class="pre">[Testnet-Home]</span></code>
folder. Once this task is done, the witness node will terminate on its
own.</p>
<p>If you want to customize the network’s initial state, edit the newly
created <code class="docutils literal"><span class="pre">my-genesis.json</span></code> file. This allows you to control things such
as:</p>
<ul class="simple">
<li>The accounts that exist at genesis, their names and public keys</li>
<li>Assets and their initial distribution (including core asset)</li>
<li>The initial values of chain parameters (including fees)</li>
<li>The account signing keys of the init witnesses (or in fact any account at all).</li>
</ul>
</div>
</div>
<div class="section" id="get-the-blockchain-id">
<h2>Get the blockchain id<a class="headerlink" href="private-testnet.html#get-the-blockchain-id" title="Permalink to this headline">¶</a></h2>
<p>The blockchain id is a hash of the genesis state. All transaction
signatures are only valid for a single blockchain id. So editing the
genesis file will change your blockchain id, and make you unable to sync
with all existing chains (unless one of them has exactly the same
genesis file you do).</p>
<p>Run this command:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">witness_node</span> <span class="o">--</span><span class="n">data</span><span class="o">-</span><span class="nb">dir</span><span class="o">=</span><span class="n">data</span>   <span class="c1"># to use the default genesis, or</span>
<span class="n">witness_node</span> <span class="o">--</span><span class="n">data</span><span class="o">-</span><span class="nb">dir</span><span class="o">=</span><span class="n">data</span> <span class="o">--</span><span class="n">genesis</span><span class="o">-</span><span class="n">json</span><span class="o">=</span><span class="n">my</span><span class="o">-</span><span class="n">genesis</span><span class="o">.</span><span class="n">json</span>   <span class="c1"># your own genesis block</span>
</pre></div>
</div>
<p>and when a message like this shows up:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="mi">3501235</span><span class="n">ms</span> <span class="n">th_a</span> <span class="n">main</span><span class="o">.</span><span class="n">cpp</span><span class="p">:</span><span class="mi">165</span> <span class="n">main</span><span class="p">]</span> <span class="n">Started</span> <span class="n">witness</span> <span class="n">node</span> <span class="n">on</span> <span class="n">a</span> <span class="n">chain</span> <span class="k">with</span> <span class="mi">0</span> <span class="n">blocks</span><span class="o">.</span>
<span class="mi">3501235</span><span class="n">ms</span> <span class="n">th_a</span> <span class="n">main</span><span class="o">.</span><span class="n">cpp</span><span class="p">:</span><span class="mi">166</span> <span class="n">main</span><span class="p">]</span> <span class="n">Chain</span> <span class="n">ID</span> <span class="ow">is</span> <span class="mi">8</span><span class="n">b7bd36a146a03d0e5d0a971e286098f41230b209d96f92465cd62bd64294824</span>
</pre></div>
</div>
<p>… it means the initialization is complete.  Use <code class="docutils literal"><span class="pre">ctrl-c</span></code> to close
the witness node.</p>
<p>As a result, you should get two items:</p>
<ul class="simple">
<li>A directory named <code class="docutils literal"><span class="pre">data</span></code> has been created with a file named <code class="docutils literal"><span class="pre">config.ini</span></code> located in it.</li>
<li>Your blockchain id is now known - it’s displayed in the message above.</li>
</ul>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Note that your blockchain id will be different than the one
used in the above example. Copy this id somewhere as you will
be needing it later on.</p>
</div>
</div>
<div class="section" id="witness-configuration">
<h2>Witness configuration<a class="headerlink" href="private-testnet.html#witness-configuration" title="Permalink to this headline">¶</a></h2>
<p>Open the <code class="docutils literal"><span class="pre">[Testnet-Home]/data/config.ini</span></code> file in your favorite text
editor, and set the following settings, uncommenting them if necessary:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">rpc</span><span class="o">-</span><span class="n">endpoint</span> <span class="o">=</span> <span class="mf">127.0</span><span class="o">.</span><span class="mf">0.1</span><span class="p">:</span><span class="mi">8090</span>
<span class="n">genesis</span><span class="o">-</span><span class="n">json</span> <span class="o">=</span> <span class="n">my</span><span class="o">-</span><span class="n">genesis</span><span class="o">.</span><span class="n">json</span>
<span class="n">enable</span><span class="o">-</span><span class="n">stale</span><span class="o">-</span><span class="n">production</span> <span class="o">=</span> <span class="n">true</span>
</pre></div>
</div>
<p>Also, locate this entry in the <code class="docutils literal"><span class="pre">config.ini</span></code> file:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="c1"># ID of witness controlled by this node (e.g. &quot;1.6.5&quot;, quotes are required, may specify multiple times)</span>
</pre></div>
</div>
<p>… and add the following entries:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">witness</span><span class="o">-</span><span class="nb">id</span> <span class="o">=</span> <span class="s2">&quot;1.6.1&quot;</span>
<span class="n">witness</span><span class="o">-</span><span class="nb">id</span> <span class="o">=</span> <span class="s2">&quot;1.6.2&quot;</span>
<span class="n">witness</span><span class="o">-</span><span class="nb">id</span> <span class="o">=</span> <span class="s2">&quot;1.6.3&quot;</span>
<span class="n">witness</span><span class="o">-</span><span class="nb">id</span> <span class="o">=</span> <span class="s2">&quot;1.6.4&quot;</span>
<span class="n">witness</span><span class="o">-</span><span class="nb">id</span> <span class="o">=</span> <span class="s2">&quot;1.6.5&quot;</span>
<span class="n">witness</span><span class="o">-</span><span class="nb">id</span> <span class="o">=</span> <span class="s2">&quot;1.6.6&quot;</span>
<span class="n">witness</span><span class="o">-</span><span class="nb">id</span> <span class="o">=</span> <span class="s2">&quot;1.6.7&quot;</span>
<span class="n">witness</span><span class="o">-</span><span class="nb">id</span> <span class="o">=</span> <span class="s2">&quot;1.6.8&quot;</span>
<span class="n">witness</span><span class="o">-</span><span class="nb">id</span> <span class="o">=</span> <span class="s2">&quot;1.6.9&quot;</span>
<span class="n">witness</span><span class="o">-</span><span class="nb">id</span> <span class="o">=</span> <span class="s2">&quot;1.6.10&quot;</span>
<span class="n">witness</span><span class="o">-</span><span class="nb">id</span> <span class="o">=</span> <span class="s2">&quot;1.6.11&quot;</span>
</pre></div>
</div>
<p>The above list authorizes the witness node to produce blocks on behalf
of the listed witness ids. Normally each witness would be on a different
node, but for the purpose of this private testnet, we will start out
with all witnesses signing blocks on a single node. The private keys
for all those witness ids (needed to sign blocks) are already supplied
in the <code class="docutils literal"><span class="pre">config.ini</span></code> file:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="c1"># Tuple of [PublicKey, WIF private key] (may specify multiple times)</span>
<span class="n">private</span><span class="o">-</span><span class="n">key</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;BTS6MRyA...T5GDW5CV&quot;</span><span class="p">,</span><span class="s2">&quot;5KQwrPb...tP79zkvFD3&quot;</span><span class="p">]</span>
</pre></div>
</div>
<p>Create a list of empty seed nodes to avoid connecting to default hardcoded seeds:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">seed</span><span class="o">-</span><span class="n">nodes</span> <span class="o">=</span> <span class="p">[]</span>
</pre></div>
</div>
</div>
<div class="section" id="start-block-production">
<h2>Start block production<a class="headerlink" href="private-testnet.html#start-block-production" title="Permalink to this headline">¶</a></h2>
<p>This is the crucial moment - you are about to produce the very first
blocks of your private blockchain. Just run the witness node with this
command:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">witness_node</span> <span class="o">--</span><span class="n">data</span><span class="o">-</span><span class="nb">dir</span><span class="o">=</span><span class="n">data</span>
</pre></div>
</div>
<p>and your block production should start at this stage. You should see
this big message:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span>********************************
*                              *
*   ------- NEW CHAIN ------   *
*   - Welcome to Graphene! -   *
*   ------------------------   *
*                              *
********************************
</pre></div>
</div>
<p>and subseqently further messages indicating the successfull creation
of blocks:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="mi">2322793</span><span class="n">ms</span> <span class="n">th_a</span>  <span class="n">main</span><span class="o">.</span><span class="n">cpp</span><span class="p">:</span><span class="mi">176</span>     <span class="n">main</span>    <span class="p">]</span> <span class="n">Started</span> <span class="n">witness</span> <span class="n">node</span> <span class="n">on</span> <span class="n">a</span> <span class="n">chain</span> <span class="k">with</span> <span class="mi">0</span> <span class="n">blocks</span><span class="o">.</span>
<span class="mi">2322794</span><span class="n">ms</span> <span class="n">th_a</span>  <span class="n">main</span><span class="o">.</span><span class="n">cpp</span><span class="p">:</span><span class="mi">177</span>     <span class="n">main</span>    <span class="p">]</span> <span class="n">Chain</span> <span class="n">ID</span> <span class="ow">is</span> <span class="mi">8</span><span class="n">b7bd36a146a03d0e5d0a971e286098f41230b209d96f92465cd62bd64294824</span>
<span class="mi">2324613</span><span class="n">ms</span> <span class="n">th_a</span>  <span class="n">witness</span><span class="o">.</span><span class="n">cpp</span><span class="p">:</span><span class="mi">185</span>  <span class="n">block_production_loo</span> <span class="p">]</span> <span class="n">Generated</span> <span class="n">block</span> <span class="c1">#1 with timestamp 2016-01-21T22:38:40 at time 2016-01-21T22:38:40</span>
<span class="mi">2325604</span><span class="n">ms</span> <span class="n">th_a</span>  <span class="n">witness</span><span class="o">.</span><span class="n">cpp</span><span class="p">:</span><span class="mi">194</span>  <span class="n">block_production_loo</span> <span class="p">]</span> <span class="n">Not</span> <span class="n">producing</span> <span class="n">block</span> <span class="n">because</span> <span class="n">slot</span> <span class="n">has</span> <span class="ow">not</span> <span class="n">yet</span> <span class="n">arrived</span>
<span class="mi">2342604</span><span class="n">ms</span> <span class="n">th_a</span>  <span class="n">witness</span><span class="o">.</span><span class="n">cpp</span><span class="p">:</span><span class="mi">194</span>  <span class="n">block_production_loo</span> <span class="p">]</span> <span class="n">Not</span> <span class="n">producing</span> <span class="n">block</span> <span class="n">because</span> <span class="n">slot</span> <span class="n">has</span> <span class="ow">not</span> <span class="n">yet</span> <span class="n">arrived</span>
<span class="mi">2343609</span><span class="n">ms</span> <span class="n">th_a</span>  <span class="n">witness</span><span class="o">.</span><span class="n">cpp</span><span class="p">:</span><span class="mi">194</span>  <span class="n">block_production_loo</span> <span class="p">]</span> <span class="n">Not</span> <span class="n">producing</span> <span class="n">block</span> <span class="n">because</span> <span class="n">slot</span> <span class="n">has</span> <span class="ow">not</span> <span class="n">yet</span> <span class="n">arrived</span>
<span class="mi">2344604</span><span class="n">ms</span> <span class="n">th_a</span>  <span class="n">witness</span><span class="o">.</span><span class="n">cpp</span><span class="p">:</span><span class="mi">185</span>  <span class="n">block_production_loo</span> <span class="p">]</span> <span class="n">Generated</span> <span class="n">block</span> <span class="c1">#2 with timestamp 2016-01-21T22:39:00 at time 2016-01-21T22:39:00</span>
<span class="mi">2345605</span><span class="n">ms</span> <span class="n">th_a</span>  <span class="n">witness</span><span class="o">.</span><span class="n">cpp</span><span class="p">:</span><span class="mi">194</span>  <span class="n">block_production_loo</span> <span class="p">]</span> <span class="n">Not</span> <span class="n">producing</span> <span class="n">block</span> <span class="n">because</span> <span class="n">slot</span> <span class="n">has</span> <span class="ow">not</span> <span class="n">yet</span> <span class="n">arrived</span>
<span class="mi">2349616</span><span class="n">ms</span> <span class="n">th_a</span>  <span class="n">witness</span><span class="o">.</span><span class="n">cpp</span><span class="p">:</span><span class="mi">185</span>  <span class="n">block_production_loo</span> <span class="p">]</span> <span class="n">Generated</span> <span class="n">block</span> <span class="c1">#3 with timestamp 2016-01-21T22:39:05 at time 2016-01-21T22:39:05</span>
<span class="mi">2350602</span><span class="n">ms</span> <span class="n">th_a</span>  <span class="n">witness</span><span class="o">.</span><span class="n">cpp</span><span class="p">:</span><span class="mi">194</span>  <span class="n">block_production_loo</span> <span class="p">]</span> <span class="n">Not</span> <span class="n">producing</span> <span class="n">block</span> <span class="n">because</span> <span class="n">slot</span> <span class="n">has</span> <span class="ow">not</span> <span class="n">yet</span> <span class="n">arrived</span>
<span class="mi">2353612</span><span class="n">ms</span> <span class="n">th_a</span>  <span class="n">witness</span><span class="o">.</span><span class="n">cpp</span><span class="p">:</span><span class="mi">194</span>  <span class="n">block_production_loo</span> <span class="p">]</span> <span class="n">Not</span> <span class="n">producing</span> <span class="n">block</span> <span class="n">because</span> <span class="n">slot</span> <span class="n">has</span> <span class="ow">not</span> <span class="n">yet</span> <span class="n">arrived</span>
<span class="mi">2354605</span><span class="n">ms</span> <span class="n">th_a</span>  <span class="n">witness</span><span class="o">.</span><span class="n">cpp</span><span class="p">:</span><span class="mi">185</span>  <span class="n">block_production_loo</span> <span class="p">]</span> <span class="n">Generated</span> <span class="n">block</span> <span class="c1">#4 with timestamp 2016-01-21T22:39:10 at time 2016-01-21T22:39:10</span>
<span class="mi">2355609</span><span class="n">ms</span> <span class="n">th_a</span>  <span class="n">witness</span><span class="o">.</span><span class="n">cpp</span><span class="p">:</span><span class="mi">194</span>  <span class="n">block_production_loo</span> <span class="p">]</span> <span class="n">Not</span> <span class="n">producing</span> <span class="n">block</span> <span class="n">because</span> <span class="n">slot</span> <span class="n">has</span> <span class="ow">not</span> <span class="n">yet</span> <span class="n">arrived</span>
<span class="mi">2356609</span><span class="n">ms</span> <span class="n">th_a</span>  <span class="n">witness</span><span class="o">.</span><span class="n">cpp</span><span class="p">:</span><span class="mi">194</span>  <span class="n">block_production_loo</span> <span class="p">]</span> <span class="n">Not</span> <span class="n">producing</span> <span class="n">block</span> <span class="n">because</span> <span class="n">slot</span> <span class="n">has</span> <span class="ow">not</span> <span class="n">yet</span> <span class="n">arrived</span>
</pre></div>
</div>
</div>
<div class="section" id="cli-usage">
<h2>CLI Usage<a class="headerlink" href="private-testnet.html#cli-usage" title="Permalink to this headline">¶</a></h2>
<p>We are now ready to connect the CLI to your testnet witness node.
Keep your witness node running and in another <em>Command Prompt</em> window
run this command:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">cli_wallet</span> <span class="o">--</span><span class="n">wallet</span><span class="o">-</span><span class="n">file</span><span class="o">=</span><span class="n">my</span><span class="o">-</span><span class="n">wallet</span><span class="o">.</span><span class="n">json</span> <span class="o">--</span><span class="n">chain</span><span class="o">-</span><span class="nb">id</span><span class="o">=</span><span class="mi">8</span><span class="n">b7bd36a146a03d0e5d0a971e286098f41230b209d96f92465cd62bd64294824</span> <span class="o">--</span><span class="n">server</span><span class="o">-</span><span class="n">rpc</span><span class="o">-</span><span class="n">endpoint</span><span class="o">=</span><span class="n">ws</span><span class="p">:</span><span class="o">//</span><span class="mf">127.0</span><span class="o">.</span><span class="mf">0.1</span><span class="p">:</span><span class="mi">8090</span>
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Make sure to replace the above blockchain id
<code class="docutils literal"><span class="pre">8b7bd36a...4294824</span></code> with your own blockchain id. The
blockchain id passed to the CLI needs to match the id
generated and used by the witness node.</p>
</div>
<p>If you get the <code class="docutils literal"><span class="pre">set_password</span></code> prompt, it means your CLI has
successfully conected to the testnet witness node.</p>
<div class="section" id="create-a-new-wallet">
<h3>Create a new wallet<a class="headerlink" href="private-testnet.html#create-a-new-wallet" title="Permalink to this headline">¶</a></h3>
<p>Fist you need to create a new password for your wallet. This password is
used to encrypt all the private keys in the wallet. For this tutorial we
will use the password <code class="docutils literal"><span class="pre">supersecret</span></code> but obviously you are free to come
up with your own combination of letters and numbers.  Use this command
to create the password:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">set_password</span> <span class="n">supersecret</span>
</pre></div>
</div>
<p>Now you can unlock the newly created wallet:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">unlock</span> <span class="n">supersecret</span>
</pre></div>
</div>
</div>
<div class="section" id="gain-access-to-the-genesis-stake">
<h3>Gain access to the genesis stake<a class="headerlink" href="private-testnet.html#gain-access-to-the-genesis-stake" title="Permalink to this headline">¶</a></h3>
<p>In Graphene, balances are contained in accounts. To import an account
into your wallet, all you need to know its name and its private key.  We
will now import into the wallet an account called <code class="docutils literal"><span class="pre">nathan</span></code> using the
<code class="docutils literal"><span class="pre">import_key</span></code> command:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">import_key</span> <span class="n">nathan</span> <span class="mi">5</span><span class="n">KQwrPbwdL6PhXujxW37FSSQZ1JiwsST4cqQzDeyXtP79zkvFD3</span>
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Note that <code class="docutils literal"><span class="pre">nathan</span></code> happens to be the account name defined in
the genesis file. If you had edited your <code class="docutils literal"><span class="pre">my-genesies.json</span></code>
file just after it was created, you could have put a different
name there.  Also, note that <code class="docutils literal"><span class="pre">5KQwrPbwdL...P79zkvFD3</span></code> is the
private key defined in the <code class="docutils literal"><span class="pre">config.ini</span></code> file.</p>
</div>
<p>Now we have the private key imported into the wallet but still no funds
assocciated with it. Funds are stored in genesis balance objects. These
funds can be claimed, with no fee, using the <code class="docutils literal"><span class="pre">import_balance</span></code> command:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">import_balance</span> <span class="n">nathan</span> <span class="p">[</span><span class="s2">&quot;5KQwrPbwdL6PhXujxW37FSSQZ1JiwsST4cqQzDeyXtP79zkvFD3&quot;</span><span class="p">]</span> <span class="n">true</span>
</pre></div>
</div>
<p>As a result, we have one account (named <code class="docutils literal"><span class="pre">nathan</span></code>) imported into the
wallet and this account is well funded with BTS as we have claimed the
funds stored in the genesis file. You can view this account by using
this command:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">get_account</span> <span class="n">nathan</span>
</pre></div>
</div>
<p>and its balance by using this command:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">list_account_balances</span> <span class="n">nathan</span>
</pre></div>
</div>
</div>
<div class="section" id="create-another-account">
<h3>Create another account<a class="headerlink" href="private-testnet.html#create-another-account" title="Permalink to this headline">¶</a></h3>
<p>We will now create another account (named <code class="docutils literal"><span class="pre">alpha</span></code>) so that we can
transfer funds back and forth between <code class="docutils literal"><span class="pre">nathan</span></code> and <code class="docutils literal"><span class="pre">alpha</span></code>.</p>
<p>Creating a new account is always done by using an existing account - we
need it because someone (i.e. the registrar) has to fund the
registration fee. Also, there is the requirement for the registrar
account to have a lifetime member (LTM) status. Therefore we need to
upgrade the account <code class="docutils literal"><span class="pre">nathan</span></code> to LTM, before we can proceed with
creating other accounts. To upgrade to LTM, use the <code class="docutils literal"><span class="pre">upgrade_account</span></code>
command:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">upgrade_account</span> <span class="n">nathan</span> <span class="n">true</span>
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Due to a known <a class="reference external" href="https://github.com/cryptonomex/graphene/issues/530">caching
issue</a>,
you need to restart the CLI at this stage as otherwise it will
not be aware of <code class="docutils literal"><span class="pre">nathan</span></code> having been upgraded. Stop the CLI
by pressing <code class="docutils literal"><span class="pre">ctrl-c</span></code> and start it again by using exactly the
same command as before, i.e.</p>
</div>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">cli_wallet</span> <span class="o">--</span><span class="n">wallet</span><span class="o">-</span><span class="n">file</span><span class="o">=</span><span class="n">my</span><span class="o">-</span><span class="n">wallet</span><span class="o">.</span><span class="n">json</span> <span class="o">--</span><span class="n">chain</span><span class="o">-</span><span class="nb">id</span><span class="o">=</span><span class="mi">8</span><span class="n">b7bd36a146a03d0e5d0a971e286098f41230b209d96f92465cd62bd64294824</span> <span class="o">--</span><span class="n">server</span><span class="o">-</span><span class="n">rpc</span><span class="o">-</span><span class="n">endpoint</span><span class="o">=</span><span class="n">ws</span><span class="p">:</span><span class="o">//</span><span class="mf">127.0</span><span class="o">.</span><span class="mf">0.1</span><span class="p">:</span><span class="mi">8090</span>
</pre></div>
</div>
<p>Verify that <code class="docutils literal"><span class="pre">nathan</span></code> has now a LTM status:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">get_account</span> <span class="n">nathan</span>
</pre></div>
</div>
<p>In the response, next to <code class="docutils literal"><span class="pre">membership_expiration_date</span></code> you should see
<code class="docutils literal"><span class="pre">1969-12-31T23:59:59</span></code>. If you get <code class="docutils literal"><span class="pre">1970-01-01T00:00:00</span></code> something is
wrong and <code class="docutils literal"><span class="pre">nathan</span></code> has not been successfully upgraded.</p>
<p>We can now register an account by using <code class="docutils literal"><span class="pre">nathan</span></code> as registrar. But
first we need to get hold of the public key for the new account. We do
it by using the <code class="docutils literal"><span class="pre">suggest_brain_key</span></code> command:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">suggest_brain_key</span>
</pre></div>
</div>
<p>And the resposne should be something similar to this:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">suggest_brain_key</span>
<span class="p">{</span>
  <span class="s2">&quot;brain_priv_key&quot;</span><span class="p">:</span> <span class="s2">&quot;MYAL SOEVER UNSHARP PHYSIC JOURNEY SHEUGH BEDLAM WLOKA FOOLERY GUAYABA DENTILE RADIATE TIEPIN ARMS FOGYISH COQUET&quot;</span><span class="p">,</span>
  <span class="s2">&quot;wif_priv_key&quot;</span><span class="p">:</span> <span class="s2">&quot;5JDh3XmHK8CDaQSxQZHh5PUV3zwzG68uVcrTfmg9yQ9idNisYnE&quot;</span><span class="p">,</span>
  <span class="s2">&quot;pub_key&quot;</span><span class="p">:</span> <span class="s2">&quot;BTS78CuY47Vds2nfw2t88ckjTaggPkw16tLhcmg4ReVx1WPr1zRL5&quot;</span>
<span class="p">}</span>
</pre></div>
</div>
<p>The <code class="docutils literal"><span class="pre">create_account_with_brain_key</span></code> command allows you to register an
account using brain key and will automatically import the corresponding
private key.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">create_account_with_brain_key</span> <span class="s2">&quot;Brain ... key&quot;</span> <span class="o">&lt;</span><span class="n">accountname</span><span class="o">&gt;</span> <span class="n">nathan</span> <span class="n">nathan</span> <span class="n">true</span>
</pre></div>
</div>
<div class="section" id="transfer-funds-between-accounts">
<h4>Transfer funds between accounts<a class="headerlink" href="private-testnet.html#transfer-funds-between-accounts" title="Permalink to this headline">¶</a></h4>
<p>As a final step, we will transfer some money from <code class="docutils literal"><span class="pre">nathan</span></code> to
<code class="docutils literal"><span class="pre">alpha</span></code>. For that we use the <code class="docutils literal"><span class="pre">transfer</span></code> command:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">transfer</span> <span class="n">nathan</span> <span class="n">alpha</span> <span class="mi">2000000000</span> <span class="n">BTS</span> <span class="s2">&quot;here is some cash&quot;</span> <span class="n">true</span>
</pre></div>
</div>
<p>The text <code class="docutils literal"><span class="pre">here</span> <span class="pre">is</span> <span class="pre">some</span> <span class="pre">cash</span></code> is an arbitrary memo you can attatch to a
transfer. If you don’t need it, just use <code class="docutils literal"><span class="pre">&quot;&quot;</span></code> instead.</p>
<p>And now you can verify that <code class="docutils literal"><span class="pre">alpha</span></code> has indeed received the money:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">list_account_balances</span> <span class="n">alpha</span>
</pre></div>
</div>
</div>
</div>
</div>
</div>


  </div>
 </div>

 <script>var HN=[];HN.factory=function(e){return function(){HN.push([e].concat(Array.prototype.slice.call(arguments,0)))};},HN.on=HN.factory("on"),HN.once=HN.factory("once"),HN.off=HN.factory("off"),HN.emit=HN.factory("emit"),HN.load=function(){var e="hn-button.js";if(document.getElementById(e))return;var t=document.createElement("script");t.id=e,t.src="//hn-button.herokuapp.com/hn-button.js";var n=document.getElementsByTagName("script")[0];n.parentNode.insertBefore(t,n)},HN.load();</script>
 <script type="text/javascript" src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/js/bootstrap.min.js"></script>
 </body>
</html>