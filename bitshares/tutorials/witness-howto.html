



<!doctype html>
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width">
    <title>Howto Run a Block-producing Witness</title>

    <!-- CSS -->
    <link href='https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css' rel='stylesheet'>
    <link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap-theme.min.css" rel="stylesheet">
    <link href='../../_static/main.css' rel='stylesheet'>
    <link href='../../_static/style.css' rel='stylesheet'>
    <link href='../../_static/doxygen.css' rel='stylesheet'>
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="https://media.readthedocs.org/css/badge_only.css" type="text/css" />

    <!-- Sphinx search -->
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../',
        VERSION:     '',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="https://media.readthedocs.org/javascript/jquery/jquery-2.0.3.min.js"></script>
    <script type="text/javascript" src="https://media.readthedocs.org/javascript/jquery/jquery-migrate-1.2.1.min.js"></script>
    <script type="text/javascript" src="https://media.readthedocs.org/javascript/underscore.js"></script>
    <script type="text/javascript" src="https://media.readthedocs.org/javascript/doctools.js"></script>
    <script type="text/javascript" src="https://media.readthedocs.org/javascript/readthedocs-doc-embed.js"></script>
    <script type="text/javascript" src="searchindex.js.html"></script>
    <!-- Transifex -->
    <script type="text/javascript">
      window.liveSettings = {
        api_key: "bbf87af0641e4bbf89c98088d48e0449",
      };
    </script>
    <script type="text/javascript" src="http://cdn.transifex.com/live.js"></script>

    <!-- title card -->
    <link  href='../../_static/title-card.css' rel='stylesheet'>
    <script src='../../_static/script.js'></script>
    
    <!-- Sphinx search -->
    <link rel="search" type="application/opensearchdescription+xml"
          title="Search within Graphene Technical Documentation  documentation"
          href="../../_static/opensearch.xml.html"/>

    <!-- Meta -->
    <meta content="Graphene Documentation" property="og:site_name">
    <meta content="Graphene Documentation" property="og:title">
    <meta content="website" property="og:type">
    <meta content="Graphene Documentation" name="description">
    <meta content="Graphene Documentation" property="og:description">
    
    <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-68381245-1', 'auto');
  ga('send', 'pageview');

</script>

 
<!-- RTD Extra Head -->

<!-- 
Always link to the latest version, as canonical.
http://docs.readthedocs.org/en/latest/canonical.html
-->
<link rel="canonical" href="witness-howto.html" />

<link rel="stylesheet" href="https://media.readthedocs.org/css/readthedocs-doc-embed.css" type="text/css" />

<script type="text/javascript" src="../../_static/readthedocs-data.js"></script>

<!-- Add page-specific data, which must exist in the page js, not global -->
<script type="text/javascript">
READTHEDOCS_DATA['page'] = 'bitshares/tutorials/witness-howto' 		
READTHEDOCS_DATA['source_suffix'] = '.rst'
</script>

<script type="text/javascript" src="../../_static/readthedocs-dynamic-include.js"></script>

<!-- end RTD <extrahead> -->
</head>
 <body class='no-literate'>


 <div class='title-area title-card' style='background-image: url("https://bitshares.org/images/bg.jpg")'>
   <div class='in'>
     <div class='headline'>
       <h1>Howto Run a Block-producing Witness</h1>
 
     </div>
   </div>
 </div>

 <div class='header'>
   <div class='left navlinks'>
    
        <div class="prev">
         <div class="title">previous</div>
         <span><a href="worker-budget.html">Claim Worker Pay</a></span>
        </div>
        <div class="top">
         <div class="title">top</div>
         <span><a class="uplink" href="../../index.html">Contents</a></span>
        </div>
        <div class="next">
         <div class="title">next</div>
         <span><a href="witness-create.html">Howto Become an Active Witness</a></span>
        </div>

   </div>
 </div>

 <div class='content-root'>
  <!-- menu bar -->
  <div class='menubar'>
   <div class='section'>
    <a href="../../index.html"><img src="../../_static/grphn-logo.svg" height="48" /></a>
    <a href="../index.html"><img src="../../_static/bitshares-logo.png" height="48" /></a>
    <a href="../../muse/index.html"><img src="../../_static/MUSE_logo_transp_v1.png" height="48" /></a>
   </div>
   <div class='menu section'>
    <div id="toc">
      <h3>Table Of Contents</h3>
      <ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="../index.html">BitShares 2.0</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../index.html#what-is-bitshares">What is BitShares</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../index.html#guides">Guides</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="../installation/index.html">Installation</a></li>
<li class="toctree-l3"><a class="reference internal" href="../migration/index.html">Migrating from BitShares 1.0 to BitShares 2.0</a></li>
<li class="toctree-l3"><a class="reference internal" href="../user/index.html">User Guide</a></li>
<li class="toctree-l3"><a class="reference internal" href="../investor/index.html">Investor Guide</a></li>
<li class="toctree-l3"><a class="reference internal" href="../developers/index.html">Businesses, Developers and Business Developers</a></li>
<li class="toctree-l3 current"><a class="reference internal" href="index.html">Tutorials</a><ul class="current">
<li class="toctree-l4"><a class="reference internal" href="index.html#general-tutorials">General Tutorials</a></li>
<li class="toctree-l4"><a class="reference internal" href="index.html#api-usage">API Usage</a></li>
<li class="toctree-l4"><a class="reference internal" href="index.html#assets">Assets</a></li>
<li class="toctree-l4"><a class="reference internal" href="index.html#prediction-markets">Prediction Markets</a></li>
<li class="toctree-l4"><a class="reference internal" href="index.html#committee-tutorials">Committee Tutorials</a></li>
<li class="toctree-l4"><a class="reference internal" href="index.html#worker-tutorials">Worker Tutorials</a></li>
<li class="toctree-l4 current"><a class="reference internal" href="index.html#witness-tutorials">Witness Tutorials</a><ul class="current">
<li class="toctree-l5 current"><a class="current reference internal" href="witness-howto.html#">Howto Run a Block-producing Witness</a></li>
<li class="toctree-l5"><a class="reference internal" href="witness-create.html">Howto Become an Active Witness</a></li>
<li class="toctree-l5"><a class="reference internal" href="witness-change-key.html">Change the Signing Key of your Witness</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="index.html#developers">Developers</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../muse/index.html">MUSE</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../integration/index.html">Integration Guide</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../api/index.html">API Guide</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../development/index.html">Development Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../testnet/index.html">Testnets</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../meta/index.html">How to Contribute</a></li>
</ul>

    </div>
   </div>
   <div class="search section">
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="../../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
   </div>
   <div class='bottom section'>
    <p class="centered">
     This page is proudly presented by <br />
     <a href="http://chainsquad.com">ChainSquad GmbH</a>
    </p>
    <p class="centered">
     <a rel="license" href="http://creativecommons.org/licenses/by-sa/4.0/"><img alt="Creative Commons License" style="border-width:0" src="https://i.creativecommons.org/l/by-sa/4.0/80x15.png" /></a>
    </p>
   </div>
  </div>
  <div class='content'>
   
  <div class="section" id="howto-run-a-block-producing-witness">
<h1>Howto Run a Block-producing Witness<a class="headerlink" href="witness-howto.html#howto-run-a-block-producing-witness" title="Permalink to this headline">Â¶</a></h1>
<p>This document serves as an introduction on how to become an actively block
producing witness in a Graphene-based network (e.g. the BitShares2.0 network).</p>
<p>We will have to register a new account from the and add some initial funds for
the witness registration fee. After that, we will create, configure and run a
witness node.</p>
<div class="section" id="requirements">
<h2>Requirements<a class="headerlink" href="witness-howto.html#requirements" title="Permalink to this headline">Â¶</a></h2>
<ul class="simple">
<li>A registered account in the corresponding network (see i.e. <a class="reference internal" href="../user/account.html"><span class="doc">Accounts</span></a>)</li>
<li>Some funds in the account to pay for the registration fee</li>
<li>Executable binary (see <a class="reference internal" href="../installation/index.html"><span class="doc">Installation</span></a>)</li>
</ul>
</div>
<div class="section" id="hardware-advice">
<h2>Hardware Advice<a class="headerlink" href="witness-howto.html#hardware-advice" title="Permalink to this headline">Â¶</a></h2>
<ul class="simple">
<li>Dedicated servers with minimum 16 GB (32 GB advised) Ram, SSD disks advised.</li>
</ul>
</div>
<div class="section" id="active-witness-duties">
<h2>Active Witness Duties<a class="headerlink" href="witness-howto.html#active-witness-duties" title="Permalink to this headline">Â¶</a></h2>
<ul class="simple">
<li>Be a reliable blockproducer</li>
<li>Maintain a public seednode</li>
<li>Publish accurate, frequently updated (check 1-2 times per hour), price feeds for the Smart Coins &amp; Market Pegged Assets</li>
</ul>
</div>
<div class="section" id="overview">
<h2>Overview<a class="headerlink" href="witness-howto.html#overview" title="Permalink to this headline">Â¶</a></h2>
<p>We will now perform the following steps:</p>
<ul class="simple">
<li>run a local (non block producing) full node</li>
<li>create a CLI wallet for the network</li>
<li>import your account (and funds) into CLI wallet</li>
<li>upgrade our account to a lifetime member</li>
<li>register a new witness</li>
<li>upvote the witness with our funds</li>
<li>sign blocks</li>
</ul>
</div>
<div class="section" id="run-the-witness-as-a-node-in-the-network">
<h2>Run the witness as a node in the network<a class="headerlink" href="witness-howto.html#run-the-witness-as-a-node-in-the-network" title="Permalink to this headline">Â¶</a></h2>
<p>We first run the witness node without block production and connect it to the
P2P network with the following command::</p>
<div class="highlight-default"><div class="highlight"><pre><span></span>$ programs/witness_node/witness_node --rpc-endpoint 127.0.0.1:8090
</pre></div>
</div>
<p>We open a RPC port for local host so that we can later connect the CLI wallet
with it. After the network was synced and periodically receives new blocks from
other participants, we can go on to the next step.</p>
</div>
<div class="section" id="creating-a-wallet">
<h2>Creating a wallet<a class="headerlink" href="witness-howto.html#creating-a-wallet" title="Permalink to this headline">Â¶</a></h2>
<p>We now open up the cli_wallet and connect to our plain and stupid witness
node::</p>
<div class="highlight-default"><div class="highlight"><pre><span></span>$ programs/cli_wallet/cli_wallet -s ws://127.0.0.1:8090
</pre></div>
</div>
<p>First thing to do is setting up a password for the newly created wallet prior to
importing any private keys::</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">set_password</span> <span class="o">&lt;</span><span class="n">password</span><span class="o">&gt;</span>
<span class="go">null</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">unlock</span> <span class="o">&lt;</span><span class="n">password</span><span class="o">&gt;</span>
<span class="go">null</span>
<span class="go">&gt;&gt;&gt;</span>
</pre></div>
</div>
<p>Wallet creation is now done.</p>
</div>
<div class="section" id="basic-account-management">
<h2>Basic Account Management<a class="headerlink" href="witness-howto.html#basic-account-management" title="Permalink to this headline">Â¶</a></h2>
<p>We can import the account name (owner key) and the balance containing (active)
key into the CLI wallet::</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">import_key</span> <span class="o">&lt;</span><span class="n">accountname</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">owner</span> <span class="n">wif</span> <span class="n">key</span><span class="o">&gt;</span>
<span class="go">true</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">import_key</span> <span class="o">&lt;</span><span class="n">accountname</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">active</span> <span class="n">wif</span> <span class="n">key</span><span class="o">&gt;</span>
<span class="go">true</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">list_my_accounts</span>
<span class="go">[{</span>
<span class="go">&quot;id&quot;: &quot;1.2.15&quot;,</span>
<span class="gp">...</span>
<span class="go">&quot;name&quot;: &lt;accountname&gt;,</span>
<span class="gp">...</span>
<span class="go">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">list_account_balances</span> <span class="o">&lt;</span><span class="n">accountname</span><span class="o">&gt;</span>
<span class="go">XXXXXXX BTS</span>
</pre></div>
</div>
<p>Both keys can be exported from the web wallet.</p>
<p>Since only lifetime members can become witnesses, you must first upgrade to a
lifetime member. This step costs the lifetime-upgrade fee::</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">upgrade_account</span> <span class="o">&lt;</span><span class="n">accountname</span><span class="o">&gt;</span> <span class="n">true</span>
<span class="go">[a transaction in json format]</span>
</pre></div>
</div>
</div>
<div class="section" id="registering-a-witness-object">
<h2>Registering a Witness Object<a class="headerlink" href="witness-howto.html#registering-a-witness-object" title="Permalink to this headline">Â¶</a></h2>
<p>To become a witness and be able to produce blocks, you first need to create a
witness object that can be voted in.</p>
<p>We create a new witness object by issuing::</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">create_witness</span> <span class="o">&lt;</span><span class="n">accountname</span><span class="o">&gt;</span> <span class="s2">&quot;http://&lt;url-to-proposal&gt;&quot;</span> <span class="n">true</span>
<span class="go">{</span>
<span class="go">  &quot;ref_block_num&quot;: 139,</span>
<span class="go">  &quot;ref_block_prefix&quot;: 3692461913,</span>
<span class="go">  &quot;relative_expiration&quot;: 3,</span>
<span class="go">  &quot;operations&quot;: [[</span>
<span class="go">  21,{</span>
<span class="go">    &quot;fee&quot;: {</span>
<span class="go">      &quot;amount&quot;: 0,</span>
<span class="go">      &quot;asset_id&quot;: &quot;1.3.0&quot;</span>
<span class="go">    },</span>
<span class="go">    &quot;witness_account&quot;: &quot;1.2.16&quot;,</span>
<span class="go">    &quot;url&quot;: &quot;url-to-proposal&quot;,</span>
<span class="go">    &quot;block_signing_key&quot;: &quot;&lt;PUBLIC KEY&gt;&quot;,</span>
<span class="go">    &quot;initial_secret&quot;: &quot;00000000000000000000000000000000000000000000000000000000&quot;</span>
<span class="go">  }</span>
<span class="go">]</span>
<span class="go">  ],</span>
<span class="go">  &quot;signatures&quot;: [</span>
<span class="go">  &quot;1f2ad5597af2ac4bf7a50f1eef2db49c9c0f7616718776624c2c09a2dd72a0c53a26e8c2bc928f783624c4632924330fc03f08345c8f40b9790efa2e4157184a37&quot;</span>
<span class="go">  ]</span>
<span class="go">}</span>
</pre></div>
</div>
<p>Our witness is registered, but it canât produce blocks because nobody has voted
it in. You can see the current list of active witnesses with
<cite>get_global_properties</cite>::</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">get_global_properties</span>
<span class="go">{</span>
<span class="go">  &quot;active_witnesses&quot;: [</span>
<span class="go">&quot;1.6.0&quot;,</span>
<span class="go">&quot;1.6.1&quot;,</span>
<span class="go">&quot;1.6.2&quot;,</span>
<span class="go">&quot;1.6.3&quot;,</span>
<span class="go">&quot;1.6.4&quot;,</span>
<span class="go">&quot;1.6.5&quot;,</span>
<span class="go">&quot;1.6.7&quot;,</span>
<span class="go">&quot;1.6.8&quot;,</span>
<span class="go">&quot;1.6.9&quot;</span>
<span class="go">  ],</span>
<span class="go">  ...</span>
</pre></div>
</div>
<p>Now, we should vote our witness in. Vote all of the shares your account
<code class="docutils literal"><span class="pre">&lt;accountname&gt;</span></code> in favor of your new witness.:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">vote_for_witness</span> <span class="o">&lt;</span><span class="n">accountname</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">accountname</span><span class="o">&gt;</span> <span class="n">true</span> <span class="n">true</span>
<span class="go">[a transaction in json format]</span>
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">If you want to experiment with things that require voting, be aware that
votes are only tallied once per day at the maintenance interval.
<code class="docutils literal"><span class="pre">get_dynamic_global_properties</span></code> tells us when that will be in
<code class="docutils literal"><span class="pre">next_maintenance_time</span></code>. Once the next maintenance interval passes, run
<code class="docutils literal"><span class="pre">get_global_properties</span></code> again and you should see that your new witness has been
voted in.</p>
</div>
<p>Now we wait until the next maintenance interval.</p>
</div>
<div class="section" id="configuration-of-the-witness-node">
<h2>Configuration of the Witness Node<a class="headerlink" href="witness-howto.html#configuration-of-the-witness-node" title="Permalink to this headline">Â¶</a></h2>
<p>Get the witness object using:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">get_witness</span> <span class="o">&lt;</span><span class="n">witness</span><span class="o">-</span><span class="n">account</span><span class="o">&gt;</span>
</pre></div>
</div>
<p>and take note of two things. The <code class="docutils literal"><span class="pre">id</span></code> is displayed in <code class="docutils literal"><span class="pre">get_global_properties</span></code>
when the witness is voted in, and we will need it on the <code class="docutils literal"><span class="pre">witness_node</span></code> command
line to produce blocks. Weâll also need the public <code class="docutils literal"><span class="pre">signing_key</span></code> so we can
look up the correspoinding private key.</p>
<p>Once we have that, run <code class="docutils literal"><span class="pre">dump_private_keys</span></code> which lists the public-key
private-key pairs to find the private key.</p>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last"><code class="docutils literal"><span class="pre">dump_private_keys</span></code> will display your keys unencrypted on the
terminal, donât do this with someone looking over your shoulder.</p>
</div>
<div class="highlight-sh"><div class="highlight"><pre><span></span>&gt;&gt;&gt; get_witness &lt;accountname&gt;
<span class="o">{</span>
  <span class="o">[</span>...<span class="o">]</span>
  <span class="s2">&quot;id&quot;</span>: <span class="s2">&quot;1.6.10&quot;</span>,
  <span class="s2">&quot;signing_key&quot;</span>: <span class="s2">&quot;GPH7vQ7GmRSJfDHxKdBmWMeDMFENpmHWKn99J457BNApiX1T5TNM8&quot;</span>,
  <span class="o">[</span>...<span class="o">]</span>
<span class="o">}</span>
</pre></div>
</div>
<p>The <code class="docutils literal"><span class="pre">id</span></code> and the <code class="docutils literal"><span class="pre">signing_key</span></code> are the two important parameters, here. Letâs get
the private key for that signing key with::</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">dump_private_keys</span>
<span class="go">[[</span>
<span class="go">  ...</span>
<span class="go">  ],[</span>
<span class="go">&quot;GPH7vQ7GmRSJfDHxKdBmWMeDMFENpmHWKn99J457BNApiX1T5TNM8&quot;,</span>
<span class="go">&quot;5JGi7DM7J8fSTizZ4D9roNgd8dUc5pirUe9taxYCUUsnvQ4zCaQ&quot;</span>
<span class="go">  ]</span>
<span class="go">]</span>
</pre></div>
</div>
<p>Now we need to start the witness, so shut down the wallet (ctrl-d),  and shut
down the witness (ctrl-c).  Re-launch the witness, now mentioning the new
witness 1.6.10 and its keypair::</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="o">./</span><span class="n">witness_node</span> <span class="o">--</span><span class="n">rpc</span><span class="o">-</span><span class="n">endpoint</span><span class="o">=</span><span class="mf">127.0</span><span class="o">.</span><span class="mf">0.1</span><span class="p">:</span><span class="mi">8090</span> \
               <span class="o">--</span><span class="n">witness</span><span class="o">-</span><span class="nb">id</span> <span class="s1">&#39;&quot;1.6.10&quot;&#39;</span> \
               <span class="o">--</span><span class="n">private</span><span class="o">-</span><span class="n">key</span> <span class="s1">&#39;[&quot;GPH7vQ7GmRSJfDHxKdBmWMeDMFENpmHWKn99J457BNApiX1T5TNM8&quot;, &quot;5JGi7DM7J8fSTizZ4D9roNgd8dUc5pirUe9taxYCUUsnvQ4zCaQ&quot;]&#39;</span>
</pre></div>
</div>
<p>Alternatively, you can also add this line into yout config.ini::</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">witness</span><span class="o">-</span><span class="nb">id</span> <span class="o">=</span> <span class="s2">&quot;1.6.10&quot;</span>
<span class="n">private</span><span class="o">-</span><span class="n">key</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;GPH7vQ7GmRSJfDHxKdBmWMeDMFENpmHWKn99J457BNApiX1T5TNM8&quot;</span><span class="p">,</span><span class="s2">&quot;5JGi7DM7J8fSTizZ4D9roNgd8dUc5pirUe9taxYCUUsnvQ4zCaQ&quot;</span><span class="p">]</span>
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Make sure to use YOUR public/private keys instead of the once given
above!</p>
</div>
</div>
<div class="section" id="verifying-block-production">
<h2>Verifying Block Production<a class="headerlink" href="witness-howto.html#verifying-block-production" title="Permalink to this headline">Â¶</a></h2>
<p>If you monitor the output of the <cite>witness_node</cite> and you have been voted in the top list of block producing witnesses, you should see it generate
blocks signed by your witness::</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">Witness</span> <span class="mf">1.6</span><span class="o">.</span><span class="mi">10</span> <span class="n">production</span> <span class="n">slot</span> <span class="n">has</span> <span class="n">arrived</span><span class="p">;</span> <span class="n">generating</span> <span class="n">a</span> <span class="n">block</span> <span class="n">now</span><span class="o">...</span>
<span class="n">Generated</span> <span class="n">block</span> <span class="c1">#367 with timestamp 2015-07-05T20:46:30 at time 2015-07-05T20:46:30</span>
</pre></div>
</div>
</div>
<div class="section" id="backup-server">
<h2>Backup Server<a class="headerlink" href="witness-howto.html#backup-server" title="Permalink to this headline">Â¶</a></h2>
<p>To stay a reliable block producer it is recommend you have a âhot swappableâ backup server with same specs as the live server running an instance of <cite>witness_node</cite>. <strong>*IT IS IMPORTANT THAT THIS BACKUP SHOULD _NOT_ HAVE THE SAME SIGNING KEY PAIR in the config.ini as your main node!*</strong></p>
<p>How it works:</p>
<ol class="arabic simple">
<li>Your âliveâ witness node is signing blocks with the private key which is stated in the config.ini.</li>
<li>Your âbackupâ witness node is running a copy of the software with another private key in the config.ini (generate a new public/private keypair with <cite>cli_wallet</cite> command: <cite>suggest_brain_key</cite>).</li>
<li>On a third server you monitor your âliveâ node on regular intervals with an automated script (e.g.: <a class="reference external" href="https://github.com/roelandp/Bitshares-Witness-Monitor">https://github.com/roelandp/Bitshares-Witness-Monitor</a>).</li>
<li>As soon as your âliveâ node is starting to fail producing blocks the âmissing blocksâ parameter increases and you can issue a command to <cite>update_witness</cite> to your backupâs âPublic Keyâ.</li>
<li>Investigate the issue with your âliveâ node and stay happy.</li>
</ol>
</div>
<div class="section" id="price-feeds">
<h2>Price Feeds<a class="headerlink" href="witness-howto.html#price-feeds" title="Permalink to this headline">Â¶</a></h2>
<p>Besides producing new blocks another very important task of the witness is to
feed <strong>ACCURATE</strong> prices into the blockchain. Educational material on how this can be
implemented is available in <code class="docutils literal"><span class="pre">scripts/pricefeed</span></code> at <a class="reference external" href="https://github.com/xeroc/python-graphenelib/">github</a> together with
the corresponding documentation.</p>
<p>Only active witnesses are allowed to publish pricefeeds for the âofficialâ currency / smartcoin markets. For any other asset you need to be whitelisted by the creator of the market to be able to publish pricefeeds.</p>
<p>A couple of price feed scripts in various stages of development and for you to code-inspect and try. (You can always setup a testnet node and test the publishing of pricefeeds).</p>
<ul class="simple">
<li>Wackouâs BTS tools includes a pricefeed publishing script: <a class="reference external" href="https://github.com/wackou/bts_tools">https://github.com/wackou/bts_tools</a></li>
<li>Altâs BTS Price: <a class="reference external" href="https://github.com/pch957/btsprice">https://github.com/pch957/btsprice</a></li>
<li>Xerocâs Bitshares Pricefeed: <a class="reference external" href="https://github.com/xeroc/bitshares-pricefeed">https://github.com/xeroc/bitshares-pricefeed</a></li>
</ul>
</div>
</div>


  </div>
 </div>

 <script>var HN=[];HN.factory=function(e){return function(){HN.push([e].concat(Array.prototype.slice.call(arguments,0)))};},HN.on=HN.factory("on"),HN.once=HN.factory("once"),HN.off=HN.factory("off"),HN.emit=HN.factory("emit"),HN.load=function(){var e="hn-button.js";if(document.getElementById(e))return;var t=document.createElement("script");t.id=e,t.src="//hn-button.herokuapp.com/hn-button.js";var n=document.getElementsByTagName("script")[0];n.parentNode.insertBefore(t,n)},HN.load();</script>
 <script type="text/javascript" src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/js/bootstrap.min.js"></script>
 </body>
</html>